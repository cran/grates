<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Introduction</title>
<style type="text/css">
/**
 * Prism.s theme ported from highlight.js's xcode style
 */
pre code {
  padding: 1em;
}
.token.comment {
  color: #007400;
}
.token.punctuation {
  color: #999;
}
.token.tag,
.token.selector {
  color: #aa0d91;
}
.token.boolean,
.token.number,
.token.constant,
.token.symbol {
  color: #1c00cf;
}
.token.property,
.token.attr-name,
.token.string,
.token.char,
.token.builtin {
  color: #c41a16;
}
.token.inserted {
  background-color: #ccffd8;
}
.token.deleted {
  background-color: #ffebe9;
}
.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
  color: #9a6e3a;
}
.token.atrule,
.token.attr-value,
.token.keyword {
  color: #836c28;
}
.token.function,
.token.class-name {
  color: #DD4A68;
}
.token.regex,
.token.important,
.token.variable {
  color: #5c2699;
}
.token.important,
.token.bold {
  font-weight: bold;
}
.token.italic {
  font-style: italic;
}
</style>
<style type="text/css">
body {
  font-family: sans-serif;
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 1.5;
  box-sizing: border-box;
}
body, .footnotes, code { font-size: .9em; }
li li { font-size: .95em; }
*, *:before, *:after {
  box-sizing: inherit;
}
pre, img { max-width: 100%; }
pre, pre:hover {
  white-space: pre-wrap;
  word-break: break-all;
}
pre code {
  display: block;
  overflow-x: auto;
}
code { font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace; }
:not(pre) > code, code[class] { background-color: #F8F8F8; }
code.language-undefined, pre > code:not([class]) {
  background-color: inherit;
  border: 1px solid #eee;
}
table {
  margin: auto;
  border-top: 1px solid #666;
}
table thead th { border-bottom: 1px solid #ddd; }
th, td { padding: 5px; }
thead, tfoot, tr:nth-child(even) { background: #eee; }
blockquote {
  color: #666;
  margin: 0;
  padding-left: 1em;
  border-left: 0.5em solid #eee;
}
hr, .footnotes::before { border: 1px dashed #ddd; }
.frontmatter { text-align: center; }
#TOC .numbered li { list-style: none; }
#TOC .numbered { padding-left: 0; }
#TOC .numbered ul { padding-left: 1em; }
table, .body h2 { border-bottom: 1px solid #666; }
.body .appendix, .appendix ~ h2 { border-bottom-style: dashed; }
.footnote-ref a::before { content: "["; }
.footnote-ref a::after { content: "]"; }
section.footnotes::before {
  content: "";
  display: block;
  max-width: 20em;
}

@media print {
  body {
    font-size: 12pt;
    max-width: 100%;
  }
  tr, img { page-break-inside: avoid; }
}
@media only screen and (min-width: 992px) {
  pre { white-space: pre; }
}
</style>
</head>
<body>
<div class="frontmatter">
<div class="title"><h1>Introduction</h1></div>
<div class="author"><h2></h2></div>
<div class="date"><h3></h3></div>
</div>
<div class="body">
<h1 id="overview">Overview</h1>
<p>The goal of {grates} is to make it easy to group dates across a range of different
time intervals. It defines a collection of classes and associated methods that,
together, formalise the concept of grouped dates and are intuitive to use. To
assist in formatting plots of grates objects we also provides x-axis scales that
can be used in conjunction with
<a href="https://cran.r-project.org/package=ggplot2">{ggplot2}</a> output. Currently
implemented classes are:</p>
<ul>
<li>
<p><a href="#yearweek">grates_yearweek</a>;</p>
</li>
<li>
<p><a href="#yearweek">grates_epiweek</a>;</p>
</li>
<li>
<p><a href="#yearweek">grates_isoweek</a>;</p>
</li>
<li>
<p><a href="#period">grates_period</a>;</p>
</li>
<li>
<p><a href="#yearxxx">grates_yearmonth</a>;</p>
</li>
<li>
<p><a href="#yearxxx">grates_yearquarter</a>;</p>
</li>
<li>
<p><a href="#yearxxx">grates_year</a>; and</p>
</li>
<li>
<p><a href="#month">grates_month</a></p>
</li>
</ul>
<p>The underlying implementation for these objects build upon ideas of Davis
Vaughan and the unreleased <a href="https://github.com/DavisVaughan/datea/">{datea}</a>
package as well as Zhian Kamvar and the
<a href="https://cran.r-project.org/package=aweek">{aweek}</a> package.</p>
<h1 id="grates-objects">grates objects</h1>
<h2 id="yearweek">yearweek, epiweek and isoweek</h2>
<p><strong>yearweek</strong> objects are stored as the number of weeks (starting at 0L) from
the date of the <code>firstday</code> nearest the Unix Epoch (1970-01-01). Put more simply,
the number of seven day periods from:</p>
<ul>
<li>1969-12-29 for <code>firstday</code> equal to 1 (Monday)</li>
<li>1969-12-30 for <code>firstday</code> equal to 2 (Tuesday)</li>
<li>1969-12-31 for <code>firstday</code> equal to 3 (Wednesday)</li>
<li>1970-01-01 for <code>firstday</code> equal to 4 (Thursday)</li>
<li>1970-01-02 for <code>firstday</code> equal to 5 (Friday)</li>
<li>1970-01-03 for <code>firstday</code> equal to 6 (Saturday)</li>
<li>1970-01-04 for <code>firstday</code> equal to 7 (Sunday)</li>
</ul>
<p>They can be constructed directly from integers via the <code>new_yearweek()</code> function
but it is generally easier to use the either the <code>as_yearweek()</code> coercion
function or the <code>yearweek()</code> constructor.  <code>as_yearweek()</code>
takes two arguments; <code>x</code>, the vector (normally a Date or POSIXt) you wish to group,
and <code>firstday</code>, the day of the week you wish your weeks to start on. <code>yearweek()</code>
takes three arguments; <code>year</code> and <code>week</code> integer vectors and, again, a
<code>firstday</code> value.</p>
<p>The <strong>epiweek</strong> class is similar to the yearweek class but, by definition, will
always begin on a Sunday. They are stored as the integer number of weeks (again
starting at 0L) since 1970-01-04 so internally are akin to
<code>&lt;grates_yearweek_sunday&gt;</code> objects but with the benefit of slightly more
efficient implementations for many of the associated methods.</p>
<p>Likewise, the <strong>isoweek</strong> class is similar to epiweek class but uses the
<a href="https://en.wikipedia.org/wiki/ISO_week_date">ISO 8601</a> definition of a week
that will always start on a Monday. Internally they are stored as the integer
number of weeks since 1969-12-29.</p>
<pre><code class="language-r">library(grates)

# Choose some consecutive dates that begin on a Friday
first &lt;- as.Date(&quot;2021-01-01&quot;)
weekdays(first)
#&gt; [1] &quot;Friday&quot;
dates &lt;- first + 0:9

# Below we use a Friday-week grouping
weeks &lt;- as_yearweek(dates, firstday = 5L)
(dat &lt;- data.frame(dates, weeks))
#&gt;         dates    weeks
#&gt; 1  2021-01-01 2021-W01
#&gt; 2  2021-01-02 2021-W01
#&gt; 3  2021-01-03 2021-W01
#&gt; 4  2021-01-04 2021-W01
#&gt; 5  2021-01-05 2021-W01
#&gt; 6  2021-01-06 2021-W01
#&gt; 7  2021-01-07 2021-W01
#&gt; 8  2021-01-08 2021-W02
#&gt; 9  2021-01-09 2021-W02
#&gt; 10 2021-01-10 2021-W02

# we can also use the constructor function if we already have weeks and years
yearweek(year =c(2020L, 2021L), week = c(1L, 10L), firstday = 5L)
#&gt; &lt;grates_yearweek_friday[2]&gt;
#&gt; [1] &quot;2020-W01&quot; &quot;2021-W10&quot;

# epiweeks always start on a Sunday
(epiwk &lt;- as_epiweek(Sys.Date()))
#&gt; &lt;grates_epiweek[1]&gt;
#&gt; [1] &quot;2024-W10&quot;
weekdays(as.Date(epiwk))
#&gt; [1] &quot;Sunday&quot;

# isoweeks always start on a Sunday
(isowk &lt;- as_isoweek(Sys.Date()))
#&gt; &lt;grates_isoweek[1]&gt;
#&gt; [1] &quot;2024-W10&quot;
weekdays(as.Date(isowk))
#&gt; [1] &quot;Monday&quot;
</code></pre>
<p>By default plots (using {ggplot2}) will centre yearweek (epiweek / isoweek)
labels:</p>
<pre><code class="language-r">library(ggplot2)

# use simulated linelist data from the outbreaks package
dat &lt;- outbreaks::ebola_sim_clean
dat &lt;- dat$linelist$date_of_infection

# calculate the total number for across each week
week_dat &lt;- aggregate(
    list(cases = dat),
    by = list(week = as_epiweek(dat)),
    FUN = length
)

head(week_dat)
#&gt;       week cases
#&gt; 1 2014-W12     1
#&gt; 2 2014-W15     1
#&gt; 3 2014-W16     1
#&gt; 4 2014-W17     3
#&gt; 5 2014-W18     6
#&gt; 6 2014-W19    16

# plot the output
(week_plot &lt;-
    ggplot(week_dat, aes(week, cases)) + 
    geom_col(width = 1, colour = &quot;white&quot;) +
    theme_bw())
</code></pre>
<div class="figure" style="text-align: center">
<img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-3"  />
<p class="caption">plot of chunk unnamed-chunk-3</p>
</div>
<p>We can have non-centred date labels on the x_axis by utilising the associated
scale_x_grates functions and explicitly specifying a format for the date
labels:</p>
<pre><code class="language-r">week_plot + scale_x_grates_epiweek(format = &quot;%Y-%m-%d&quot;)
</code></pre>
<div class="figure" style="text-align: center">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAFoCAMAAACMkBkOAAACZ1BMVEUCAgIODg4QEBAREREXFxcZGRkdHR0fHx8mJiYnJycsLCwuLi4vLy8xMTEzMzM1NTU5OTk6Ojo8PDw/Pz9BQUFCQkJDQ0NERERHR0dKSkpLS0tMTExNTU1OTk5QUFBRUVFSUlJTU1NVVVVWVlZXV1dYWFhZWVlaWlpbW1tcXFxdXV1eXl5fX19gYGBhYWFiYmJjY2NkZGRlZWVmZmZnZ2doaGhpaWlqampra2tsbGxtbW1ubm5vb29wcHBxcXFycnJzc3N0dHR1dXV2dnZ3d3d4eHh5eXl6enp7e3t8fHx9fX1+fn5/f3+AgICBgYGCgoKDg4OEhISFhYWGhoaHh4eIiIiJiYmKioqLi4uMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSVlZWWlpaXl5eYmJiZmZmampqbm5ucnJydnZ2enp6fn5+goKChoaGioqKjo6OkpKSlpaWmpqanp6eoqKipqamqqqqrq6usrKytra2urq6vr6+wsLCxsbGysrKzs7O0tLS1tbW2tra3t7e4uLi5ubm6urq7u7u8vLy9vb2+vr6/v7/AwMDBwcHCwsLDw8PExMTFxcXGxsbHx8fIyMjJycnKysrLy8vMzMzNzc3Ozs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXW1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp6enq6urr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8/Pz9/f3+/v7///+aZ1juAAAACXBIWXMAAAsSAAALEgHS3X78AAAUwElEQVR4nO3d/UNU15kH8Oymu2nT3Wzb7W7bzTbt7rZkbWO2SZoat4lRoyIRiZEgKi9jIhiCqEGjouISRWM0BMW3EHyDIAoq8QVjZpg3XuZ9nj9q73nunWEG58y5g4PAvd/vD/d4zj08c+/5OC8Mw+UJQmyZJ2b6AJCZCeBtGsDbNIC3aczCf+xISXW1Q5XqCuUUR6V6SpWJOWamVOWlTIWJ8zZxSxvVU0xUmfIKn8kJ3pHaCUWU8yPD6pqj6ikBf17K+MfzUsZt4ryDyilxp/qWAlHllJBHXSbTOcU+4AbwOZQBPOBlATzgZQE84KUBPOBlATzgpQE84JMBfO5lAA94WQAPeFkAD3hpAA94WQAPeGkAnw4/1C5yLecygJ/j8CcKROpyLgN4wMsCeMDLAnjASwN4wMsyHfD3P+2Nk7Oll/SNCODJ+vAjr3dVNMeXdr3TzxseAzxZH75nN31X2ldH3Vt5w2OAJ+vDa9n3fx0t9GA9b4iOrF27diQlPt+IKj6XcsqIRz3F685LGXfanJABH8m1jMuvnOLzqss41VO86lvyTnGFfQ45fKC6Ji7M1/GGqM3hKB1Nic8/qorfpZwy6lFP8bnzUsbtTe0l4XMt4zJx3j51Gad6indEOcU3rC6T6Zz8cvho4Rmivnrq2cobHsNDPVn/of5aWXf3YHxF77oB3vAY4Mn68AO7du1qJ1fLVdI3IoAn68NnCuAJ8BaBb8u5DOAtAX/q8psiW82XAbw14L/ipsJ8GcADXhbAA14WwANeGsADXhbAA14a28OPh9O6gLcLfHjgS5HbRhfwtoH/mI0PG13AAx7wigCeAA94eQAPeFkAD3hpAA94WQAPeGkAD/hkAA94MwE8AR7w8gAe8LIAHvDSAB7wsgAe8NIAPgt84sxMXPwS8FaCb4mHRaJ6E85WBvCWgr/KTcNdbpZkKwN4wMtiOfiKtKtwzLVLoYQM+LDeywYfz1LmMV4KRX1L03AplEyxxD2+z+jiHm8z+JtthSLXAW83+IPcXAY84AGvCOAJ8ICXB/CAlwXwgJcG8ICXBfCAlwbwgE8G8IA3E7vBx/dy0ssA3gbw3Hs+vQzgAS8L4AEvC+ABLw3gAS8L4AEvDeABnwzgAW8mgCfAWxm+0PgKwBuxC3x5tF/kW8AbsQ28T3/EB7wRwBPgAS8P4AEvC+ABLw3gAS8L4AEvTc7wbhfRwiVLTtLu4tIAjwCebAB/771Oiq/W/uEuodZWHgI82QD+yKpOcr21ZW+4ay/d3sRDgCcbwNOeTrrf6Nu688tD5Cwleu+ZZ952zuUEpwzvmulDz3seVGWH1+Jc1dlEt6u1/38+X3U8JcFwXJXwsHJKfFQ9ZdyflzJTv8enlXGbOO+AckrMqT7gQEQ5JehRl8m0NFHFPb5zH3XWutfQsSM8god6sslDfWhDcZGbmsrW62cCeLID/MMBPAEe8PIAHvCyAB7w0gAe8LIAHvDSAB7wyQAe8GYCeAI84OUBPOBlATzgpQE84GUB/DTC/3d6GcDbB/7l50VG9DKAtw/8S9wC3rhNwMsCeMDLAnjASwN4wMsCeMBLA3jAJ2N1+PbdIkN6B/ATsTr8Oha7qHcAPxHAA95MAE+AB7w8gAe8LIAHvDSAB7wsgAe8NHmArxhPycjouCqjLuWUca96it8zxTIxAz7EvdCjwge4zLCJ8/arD9ipnuJX39LIsLpMpqUZ3ZQTvCPtKhyz/1IoiXu8cTSPCq+XeXyXQhmfoUuhZIBP7eChXhrLPdQDngAPeHkAD3hZAA94aQA/O+DDepmQmgPwloKP79sq4gO8cr7F4BdxMwR45XzASwN4wEsDeMDLAnjASwN4wCdjD/hvjKMBfDL2gPeN8J/jiAI+mcnwn9zqfa4wLi0xV+E3c/MA8MlMgr/w9N3/2PyLC9ISgLcovGNT+Kn45kppCcBbFP78v5bM8/xyp7QE4C0KHy/5n8HGF0PSEoC3KDwFWi5lqwR4i8KP/ezp1SXPjUtLAN6i8M1/7lhNLzdISwDeovDVpRp8ZbW0BOAtCn/tR6tfa3qqX1oC8BaFp47f/OSP8vdvAG9ZeEUAb1V4vFdvT3i8V29TeLxXb1P4h9+rd7b0GhsRwFsUPv29+tNXKL60651+3vAI4C0Kz2k7orf1BZ3UV0fdW3nDQ4C3KLzrp08++eTfthq9PZ3U0UIP1vOG6OL+/esCKRkZC6gy5lJOCXjVU/yeKZaJTQt82k2EwnpCqYNjI+oDdqqn+NUrPDKsLpNpacbSL4VS88qNed5fDaXDr+MNUfOyZe/6U+L1+VXxOpVT/G71FI+JORmnRKcFfjT1JiLXO0S+C6YO+rzqAzaxNB4TK+xSl8m0NF5HGvyGavoX2vLBBHxfPfVs5Q2P4KH+4Yf6Wh5sSxubcw/1X/3w6r/t+n2L0dPg4yt61w3whkcAb1F4arly/d//lHhV33NPe9ZvuWpsRACfAt++SyRgDXhFAJ8Cv557HmvAryyjV17He/W2g2/5hYvcv9wvLQF4Le6YXttK8BvFd3ebN0pLAF5LpK9LJGol+ItPH7jz6Y+7pCUAL+BXcTNuJXhq/ee//2mzvATgrQqvCOABD3jAywN4aQAPePl5A36qZQBPgAd8SgAPeDMBPOABD3h5AC8N4AEvP2/AT7UM4AnwgE+JZeG3rBIJAZ5sBr+SOYKAJ8ADPiWAB7yZAB7wgAe8PICXBvCAl5834HMuA/iJAH42wZP8F9UmzhvwOZeZxfCjC0SWqE8J8LnAf3ZAJD6L4Uf4C15Sn9Isgq8YTYnPP6qK36WcMupRT/G5TZeJ/5WXNfrY4UNp5+2TH+h4Al59Tl71CvuG1WUyrbA//VIoqsyBe/wMwQ+kn7fV7vGAl8EPnaoW+do4b8Cra1oEfqdexjhvwKtrAl5+3oA3X2Zm4c/qBxELZzlSwOuxFHz/zaMi17KJAV6PteBbuNlpiMWjIrH0IwW8HivDf8299elHah5+8n+ZDAG8teCPfShyE/Dmy1gDvoLnfAV482UAL12a1AAe8GYCeHPwuwCvrmlF+MQfcAN8llgSvn2+yEnAZ4kl4du4adPhHelHCng91oc/EP5OJLEWgNdjA/hr3KwyjhDwegCfIYDnAF4awANeuTSpATzgzQTwgAc84OUBPOClAXyGAJ4DeGkAn/it49kLX2scIeD15AmeCt8UmcXwdd/zEdYCXk++4F/ktZrN8EPclAJeD+AzZObhKwsLT9OF95r0p1DA2wZ+VTgcC74VqD/PPcDbBd6/5sxVutxIAzXcBbxd4AeXdaw6cfIQOcuIan7962J3SoaH3aoMO5VT3Ooq7mGXes7cg89yMhEDfky9NFNcYVd1dngtt0vONtPQRqL7vb0VkZSMByOqBIeVUyJ+9ZQxX5adMT1zDf5VMg480znFDXj10oy71XMyrXDo/ezwvZ3UX36nmjr3cHc2PtTH20VOzjX4vxIfd3vmy93N+EP98OIdS69T2Z4iF3dnI3yE1+iFuQf/vF4040nNODyFBka0WbfG9B7gHyv8oPrqlzZ+A8fC8O6zH4tcz3L2gLckfB03J7KcPeDnKnzmkwI8x9LwlWtFjBdRtIN7QcBzLA3/Z/0QjbMp4d4Y4DmAl8aO8J5XRdYAfiorPJfh3bwqywE/lRUGPODNBPCAB/xMwX9TKXJE7wDePvAneXCz3gH8HIdP/BwO8KmZBH9vkUiDpeDjZXxSkUzwl9NXw77w3/KZV1gLfoleOxP8vb7DIom/dwR428Dv5uagcfqABzzgAZ/jCgMe8GYC+NkGH1Z/HhPwVoSP3FkpsjnXFQb83IE3/pjhJPgB7q3MdYUBP3fgrxmnD3i7wbf+QaQL8HaDP8zN14AHPODtB39YX4s44G0Gf7z/XZEvAW83+IvcNAEe8LmscI7wlcGUjI4HVRlzKacEfeopI97UXhjwD8PHc1zhccUVMSalOu0qHI/9UihR/c+xAz4DfI4rrLoUyqTM8EN9xCsSAPzD8Lmu8Nx6ju/hk/wY8HaBDxu/RAx428C7rojcNW4J8LaBP8anVQ94Bfz7ua4w4K0Bv9n5hsg7plcY8BaBf8DNG6ZXeNbCR0MiMcDnBF9CvGwh9QrPWvj9fCI9gC/ICX6cmxfVKzz74E/ViLgAX2Az+G186IOALwA84LmxAPy6QhFPxsPKBN9s/NYA4AvmNvxCPjxnxsPKBH/6wRcitwFfYCH4Sb8DlBH+LDeHAV9gCv4v6Us6W+HL5olcMfYBviAP8C/wmhpAsxW+VD8tYx/gC/IAP0+vpi/p7Ib3u++JRAFfYDP4Tdx8D/gCq8MbH6uJA77AXvCxK+dEcI/n2naCX8FNCPAFgAc8N4AHfAHgAc8N4AFfMGfgqzaIAL7AbvAv6OcKeMADHvDcAF5ktsDHbj7inxGPfiryGeALZgJ+LIOMOfjSbUudjwQf5ON4GfAFjxWe9IsgZPqD1abg71TSud1Tgo/HAD+T8H/Ry0wV/vwBGqokunX+/IZwSsYD3MTunxW5FUvdFxnlwetBbrrD5SIOquCWariJbeMmvIeb8RZuvMe5eXCam8EL3PRe5aZzkJsT33PTPMJNQ5SbCqrSa2/Ra+/QazdxM3aIG88Jbu6f5ebmJW56rnFz7jY3nzu52TfGzUfxcr2og5t4HTfRRm5C+7kZbeXG3cbN0DluBq5wc6WfmzN3uTk6zM3eADdbyKi9Sa/9kV57FzfBZm5GjnLjaufm7lfcXO/m5uIAN6eGuDns4WZXkJvNtEGv/YFeJhJ+KEEzV8RoP0TOUqKGefNWe1LidnMzZlxcI5C6z7j6RtS4QsekJpraxNKbWIYmmt7EM9aOZmgmFU3rRbPUznrAmWvnfsAmame6idyPO+LzPJThahPwl3bSDf1CirPjqldTLeMfz0sZt4nzDiqnxJ3qWwpElVOm9Q8VBJdHG8/xvwBPdoKnSxv26/8APNkKPhnAE+ABLw/gAS8L4AEvDeABLwvgAS8N4AGfDOBzLwN4wMsCeMDLMrfgVzlSUlXlUKWiRDnFUaGeUr42L2XWrstLmZKNyinVleopxepbqqxWTtkwxRWu3pETfK7pezYvZZpW5KVM8c68lPnt5XxU8T2T6YMxOef0C4/05YDPIYBX57usl9M2na4DeSnTcj4vZWru5qNKYG1e4AcaHunLpwsemeXJA3x0MJTyOexkHh4J3sj2WjVrmbvjE3N4I01gULs/BR66JR6JGfdY3+0sBfR4hsQm+zze7bqTbcqQV9vcdRm9+93d3/I/kiPJuLJ9UzFpafq7u/nreSSxqDwnciPTB6oz5tHho8u3Lf/K+Bz2wC0xoj8TGp/MNp4WtT2BxR8vvTG1Mh9sLepPzNEnynJv8bbFzpGlO4o0/vawNhD5RgzzyNBbDYXiu62BpduWB43dkpxeWVsS+6bo/e3av4+LAec9fcfx5IZ498kV5fXyMnVVZY10oKK4U/uf10G0sX77F2J4YkREtPWOdz83vTSLtm/vTSxNYlF5Tnh57ev35UeTlkeH76mlb9/TP4fd9pp2PtTJl1c0Ppmtd3jPlSZq2z+lMncc5LuZmMMbaZlPOujQodbjVPdNaN/vA9pAw0YxzCOHDtNmsWK7e8hxzdgtyUoflQ2WP6Bl4ft1i7R+bOkxMcwdfYSIdy8apcXSb91jr1N8AS0h/yrqeWer9j2xMT4xIk5KtAvIU2R2aSLGX6PgkcSi8pyz9XTG7MvYR4cP+On8Nv1z2Dc+0MS8G5aKYX3E6Oh76EpZ/5TKnCkuKnqQmMMbaRlviOq7Puqnzz6PXHtTk72yieF55FZx+4oR0Yt2FAf03bJ8T7G3xpdp99HvfNcWa/1PKhmeO/oIEe9+LUKF0pd8cSd5CsdKiJbS/aOC17GkRxtOGdHCbWVLXbPZpbn/anmxi5KffdcXleec2EM96+UnlZZ8vLj7otBvfA57jya20blMDOojRkffQydWZft+SF6mfWXs7KbEHGMjS6RhU/z9QfriU6KiAI2U3Wd4HrmxqrGYf8UgsrvIxbvlcZd8ruFQ9aC4f9LV7SeO6eNLkht9d11t83/Jn7/o2pIBt/bw9CZRr8b7Zdy5QNSeGBERbc2H5S1ml8Zzkdrfp+Rn3xOLqs1xLTxRtCZLmdTkAb72w1Dic9jaYZ2o7V7Yf7VqH48kOrxn8B7d2DilMhe3katYlBFz9I0sgRXac2XjFTp4imWrPzv59tDnVed4xNFHR1u0zoUAHTyWHf7bN/uICiO0xiuY44u7tjf4GqruTsBrHd4dP32mTP4W7JfaXTNaSPElzBvVXsAtHKmqmhjROty6iim+0OzSBEL6avAIL2pyaYaOdTrkZdLy6PDaU03yc9jaYfU2N//peGIk0eE9lzeE9jdOqUxgsadpV2IOb6RpFa+Remrjb3tZ9mTzjjcuJUY+2RusPKN1Gg8FSy9nh18vXiPt7vCJv+qmwTc3l5fpD+gp93jevbvfKX9ypmXiFXeJ81Id844u8Pfy5OQIR2sDC9yDi8wuTde6UNPuxEhiUXmOtybaYPYdi0eHv1BYWLjd+Bx2W58Y2cLjxiez9Q7v+XRtg/xHGFnLXChtCCXm6BNl2a/tPUWH14vzrxdf49nL42IktH0NP56G6t9tTeyWZL1W5m64vlJ8r1YjBro69R01yQ3x7uEPHd9Lq3i1KqvpQXWt9l9sULvJS+UO/tnVxIiIaHvKKu6ZXprW0sZwcmmMRdXnnCw/Ij+n9OANHJsG8DYN4G0awNs0gM+Qg9dn+gimP4DPkPmHZvoIpj92h/dWEL07QEdP03XHwTHStxp8W9NMH9k0x+7w8b9zDjxRTj9vP/2jta/8LKBv5x/64h/M/pRrrsbu8PTH/dt+92zoB+Hfru7oeLpF385f8Tc3Z/q4pju2h9/5vy91PNX+G/rJa6tXr76kb+f/8Fdmf8g1Z2N7eOeP/zH87H9uoT9oT+olbn07/+CdH+Tl43WzOLaHp3/6OW14YpAuPFX5ynPGVntx997vZvq4pjmAP9xKN8UD+/WqrePGVvs+PiR+IGvlAN6mAbxNA3ibBvA2DeBtGsDbNIC3aQBv0/w/ZPM+StK4P/sAAAAASUVORK5CYII=" alt="plot of chunk unnamed-chunk-4"  />
<p class="caption">plot of chunk unnamed-chunk-4</p>
</div>
<h2 id="period">Period</h2>
<p><strong>period</strong> objects are stored as the integer number, starting at 0L, of periods
since the Unix Epoch (1970-01-01) and a specified offset. Here periods are taken
to mean groupings of <code>n</code> consecutive days.</p>
<p>Like with yearweek objects, period objects can be constructed directly via a
call to <code>new_period()</code> but more easily via the <code>as_period()</code> coercion function.
<code>as_period()</code> takes 3 arguments; <code>x</code>, the vector (normally a Date or POSIXt) you
wish to group, <code>n</code>, the integer number of days you wish to group, and <code>offset</code>,
the value you wish to start counting groups from relative to the Unix Epoch.
For convenience, <code>offset</code> can be given as a date you want periods to be relative
to (internally this date is converted to integer).</p>
<p>Note that storage and calculation purposes, <code>offset</code> is scaled relative to <code>n</code>.
I.e. <code>offset &lt;- offset %% n</code> and values of <code>x</code> stored relative to this scaled
offset.</p>
<pre><code class="language-r"># calculate the total number for across 14 day periods with no offset.
# note - 0L is the default value for the offset but we specify it explicitly
# here for added clarity
period_dat &lt;- aggregate(
    list(cases = dat),
    by = list(period = as_period(dat, n = 14L, offset = 0L)),
    FUN = length
)

head(period_dat)
#&gt;                     period cases
#&gt; 1 2014-03-13 to 2014-03-26     1
#&gt; 2 2014-03-27 to 2014-04-09     1
#&gt; 3 2014-04-10 to 2014-04-23     3
#&gt; 4 2014-04-24 to 2014-05-07    19
#&gt; 5 2014-05-08 to 2014-05-21    19
#&gt; 6 2014-05-22 to 2014-06-04    30

# lower date bounds are used for the x axis
ggplot(period_dat, aes(period, cases)) +
    geom_col(width = 1, colour = &quot;white&quot;) +
    theme_bw( ) +
    theme(axis.text.x = element_text(angle = 45, hjust=1)) +
    xlab(&quot;&quot;)
</code></pre>
<div class="figure" style="text-align: center">
<img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-5"  />
<p class="caption">plot of chunk unnamed-chunk-5</p>
</div>
<pre><code class="language-r">
# using a date as an offset
start &lt;- as.Date(&quot;2020-01-03&quot;)
dates &lt;- start + 0:9
offset &lt;- as.Date(&quot;2020-01-01&quot;)
data.frame(dates, period = as_period(dates, n = 7L, offset = offset))
#&gt;         dates                   period
#&gt; 1  2020-01-03 2020-01-01 to 2020-01-07
#&gt; 2  2020-01-04 2020-01-01 to 2020-01-07
#&gt; 3  2020-01-05 2020-01-01 to 2020-01-07
#&gt; 4  2020-01-06 2020-01-01 to 2020-01-07
#&gt; 5  2020-01-07 2020-01-01 to 2020-01-07
#&gt; 6  2020-01-08 2020-01-08 to 2020-01-14
#&gt; 7  2020-01-09 2020-01-08 to 2020-01-14
#&gt; 8  2020-01-10 2020-01-08 to 2020-01-14
#&gt; 9  2020-01-11 2020-01-08 to 2020-01-14
#&gt; 10 2020-01-12 2020-01-08 to 2020-01-14
</code></pre>
<h2 id="yearxxx">yearmonth, yearquarter and year</h2>
<p><strong>yearmonth</strong>, <strong>yearquarter</strong> and <strong>year</strong> objects are stored as the integer
number of months/quarters/years (starting at 0L) since the Unix Epoch
(1970-01-01).</p>
<p>Similar to other grates objects we provide both coercion and construction
functions.</p>
<pre><code class="language-r"># calculate the monthly number of cases
(month_dat &lt;- aggregate(
    list(cases = dat),
    by = list(month = as_yearmonth(dat)),
    FUN = length
))
#&gt;       month cases
#&gt; 1  2014-Mar     1
#&gt; 2  2014-Apr     6
#&gt; 3  2014-May    57
#&gt; 4  2014-Jun    80
#&gt; 5  2014-Jul   183
#&gt; 6  2014-Aug   453
#&gt; 7  2014-Sep   813
#&gt; 8  2014-Oct   719
#&gt; 9  2014-Nov   448
#&gt; 10 2014-Dec   307
#&gt; 11 2015-Jan   251
#&gt; 12 2015-Feb   199
#&gt; 13 2015-Mar   152
#&gt; 14 2015-Apr    73

# plot with centred labels
(month_plot &lt;- 
    ggplot(month_dat, aes(month, cases)) + 
    geom_col(width = 1, colour = &quot;white&quot;) +
    theme_bw() +
    theme(axis.text.x = element_text(angle = 45, hjust=1)) +
    xlab(&quot;&quot;))
</code></pre>
<div class="figure" style="text-align: center">
<img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-6"  />
<p class="caption">plot of chunk unnamed-chunk-6</p>
</div>
<pre><code class="language-r">
# again we can have non-centred date labels by applying the associated scale
month_plot + scale_x_grates_yearmonth(format = &quot;%Y-%m-%d&quot;)
</code></pre>
<div class="figure" style="text-align: center">
<img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-6"  />
<p class="caption">plot of chunk unnamed-chunk-6</p>
</div>
<pre><code class="language-r">
# yearquarter works similarly
(quarter_dat &lt;- aggregate(
    list(cases = dat),
    by = list(quarter = as_yearquarter(dat)),
    FUN = length
))
#&gt;   quarter cases
#&gt; 1 2014-Q1     1
#&gt; 2 2014-Q2   143
#&gt; 3 2014-Q3  1449
#&gt; 4 2014-Q4  1474
#&gt; 5 2015-Q1   602
#&gt; 6 2015-Q2    73

ggplot(quarter_dat, aes(quarter, cases)) + 
    geom_col(width = 1, colour = &quot;white&quot;) +
    theme_bw() +
    theme(axis.text.x = element_text(angle = 45, hjust=1)) +
    xlab(&quot;&quot;)
</code></pre>
<div class="figure" style="text-align: center">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAFoCAMAAACMkBkOAAACN1BMVEUTExMVFRUXFxcZGRkfHx8hISEiIiIlJSUmJiYnJycoKCgpKSkrKysyMjIzMzM3Nzc6Ojo7Ozs8PDxBQUFLS0tNTU1PT09SUlJWVlZZWVlaWlpbW1tcXFxdXV1eXl5hYWFiYmJjY2NkZGRlZWVmZmZnZ2doaGhqampra2tsbGxtbW1ubm5vb29wcHBxcXFycnJzc3N0dHR1dXV2dnZ3d3d4eHh5eXl6enp7e3t8fHx9fX1+fn5/f3+AgICBgYGCgoKDg4OEhISFhYWGhoaHh4eIiIiJiYmKioqLi4uMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSVlZWWlpaXl5eYmJiZmZmampqbm5ucnJydnZ2enp6fn5+goKChoaGioqKjo6OkpKSlpaWmpqanp6eoqKipqamqqqqrq6usrKytra2urq6vr6+wsLCxsbGysrKzs7O0tLS1tbW2tra3t7e4uLi5ubm6urq7u7u8vLy9vb2+vr6/v7/AwMDBwcHCwsLDw8PExMTFxcXGxsbHx8fIyMjJycnKysrLy8vMzMzNzc3Ozs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXW1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp6enq6urr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8/Pz9/f3+/v7////y/CalAAAACXBIWXMAAAsSAAALEgHS3X78AAAQf0lEQVR4nO3d+X8URRrHcfd0T3fd+3DvFZVlEQIxxHAkhkNDMjEiIMoVMYgx4GJkQSEgIDEq4RAIIYIQCDI55kjmysw8f9zOdHUvSVUzVXTVwHT6+/mhN69+FU8184bJZHpwHyEUyB552BeAHk6AD2iAD2iAD2j3Bb+zVazF5dzsQuulS5qlK1rkSxRWyC9WPmR9SLpEvk2TdEVIvo18iOuFnLx/+FaXc4m87FelI9LBk9IVibiBIfGEgSETadmKnHyb0axsRUa+TVi6TdJlm9wr1v8A/n6HAJ4FeCHAswAvVsnwg+fOjVLuqylih2KApzkOf+Uq0cLt2y9Q47aqMDsUAzzNbfgjT/fR9KrCFzea6VSHdbDOA57mNvzQK300Mm/d8tHed+lWs3Ugutrb+1JGLJ52OTmrxIRsRSYmXRGPGhgSjRsYMj4lW5GWbzOakq1IJGQrUmHpNpMu26Ta7g1Pu/to4jQdbTu6n8KN1oFo6xNPrJgQG3M5N7vxUekS+ZAxhSUPZkh4/IEMGZevCMsvxGXIWKg0fDJNo8v736ShDdbBOo2neprbT/VF+M/Xpvd0pKqz7aesg3Ua8DTH4Y9cIupubM9Q/0udxA7FAE9zHP4eBQBe+nBTQmqWlw8BPKty4JM9+l2QqgLernLg7/xevzbAWwFeDPAswAsB3t5GDp+Tr5BeK+Bdq2x4ql+uXSfg3apw+D/rm70CeLcArxTgWYAXAzwL8EKAt7cBPB/gnQDPB3jVAO8a4JUCPAvwYoBnAV4I8PY2gOcDvBPg+QCvGuBdA7xSgGcBXgzwLMALAd7eBvB8gHcCPB/gVQO8a4BXCvAswIsBngV4IcDb2wCeD/BOgOcDvGqAdw3wSgGeBXgxwLMALwR4exvA8wHeCfB8gFcN8K4BXinAswAvBngW4IUAb28DeL4HCL9+Uizicm520THpkgnpioh8SeXAT0uvNRyXrYhFZSviYek2kZjL4Nb7h8ffeKXm3t94wCsFeBbgxQDPArwQ4O1tAM8HeCfA8wFeNcC7BnilAM8CvBjgWYAXAry9DeD5AO8EeD7AqwZ41wCvFOBZgBcDPAvwQoC3twE8H+CdAM8HeNUA7xrglQI8C/BigGcBXgjw9jaA5wO8E+D5AK8a4F0DvFKAZwFeDPAswAsB3t4G8HyAdwI8H+BVA7xrgFcK8CzAiwGeBXghwNvbAJ4P8E6A5wO8aoB3DfBKAZ4FeDHAswAvBHh7G8DzAd4J8Hz3DT8+StSxvDE541AM8Er5F/7m6j4aX0nd3XcP1nnAK+Vf+A/q+ujzt+n6y3cP1nnAK+VfeNrdRz37Kdx490C0+rHHng9XcKOVA59+2I9Fqb5pKQ3ft4euh+4eiCaGh5uzYpPTLidnlZyQrcjGpCsm5UsqB156qdnRtGxFKilbkQlLt5ly2SYj+Rs/Xk8HP7h7sE7jqV4pfz/V0541L6ZmHIoBXikfw98jwCsFeBbgxQDPArwQ4O1tAM8HeCfA8wFeNcC7BnilAM8CvBjgWYAXAry9DeD5AO8EeD7AqwZ41wCvFOBZgBcDPAvwQoC3twE8H+CdAM8HeNUA7xrglQI8C/BigGcBXgjw9jaA5wO8E+D5AK8a4F0DvFKAZwFeDPAswAsB3t4G8HyAdwI8H+BVCya8lBDwSvkKPvNkf/e3fp4qPQfwSvkK/tCv44+fmfdh6TmAV8pX8BtaJ35IzetKzwG8Ur6CH3r010vO//hg6TmAV8pX8NSzI3lku2QO4JXyF/yVZ/f2JiRzAK+Ur+BHfvSnFbsevVl6DuCV8hX8688fX0H1odJzAK+Ur+BfW1yAr95Seg7glfIV/PiPfvOrp38wUXoO4JXyFTyNh557Y0oyB/BK+QueFN6rXz8pFnE5N7vomHTJhHRFRL6kcuCnpdcajstWxKKyFfGwdJtIzGVw6yx4vFdvFby/8Xiv3ip48Hiv3ip48Hiv3ip48Hiv3iqA8OP9/f0Nm0vPAbxSvoK/9MhPvvvT75wvPQfwSvkKvqkx9lv6Y3/pOYBXylfwbY30i/zWltJzAK+Ur+C//vbRfz752Cel5wBeKV/B063bsaadkjmAV8pf8IUH/1ZOMgfwSvkKfvLxFfSvn0oeXcAr5Sv4bfMKh2fwc3zg4NvWFg5NbaXnAF4pX8Hf/P6/di763o3ScwCvlK/g6ebyP9V8LZkDeKX8Ba8S4JUCPAvwYoBnAV4I8PY2gOcDvBPg+QCvGuBdA7xSgGcBXgzwLMALAd7exkfwb0kfEoVHLTctXQF4u0qBP3inW79B6XMC4J0qBr7fwJB3Ac+2ATwf4J0Azwd41QDvGuCVAjwL8F4CvL0N4PkA7wR4PsCrBnjXAK8U4FmA9xLg7W0Azwd4J8DzAV41wBM119ScoC9W78mzQzHAK+Vz+LpMJpdakny91zpYpwCvlL/hY/UnL9KZdrryqnWwzgFeKX/DX1t6vO6jY/spvMY6EHUtXdoQE5twOTe7yJh0ybh0xYR0SXyOwadkv+FoWP6oRcVzkdbS8IWur/yki241WQei052da5NisYTLyVnFx2UrkhHpiph8yRyDz8h+v4mw/FGbEs9NvVwa/kIfDa67EaK+3dbBOoeneqX8/VQ/tmhH1WVas7t2lB2KAV4pf8NT+krhsc5dnbIPxQCvlM/hXQK8UoBnAd5LgLe3ATwf4J0Azwd41QDvGuCVAjwL8F4CvL0N4PkA7wR4PsCrBnjXAK8U4FmA9xLg7W0Azwd4J8DzAV41wLsGeKUAzwK8lwBvbwN4PsA7AZ4P8KoB3jXAKwV4FuC9BHh7G8DzAd4J8HyAVw3wrgFeKcCzAO8lwNvbAJ4P8E6A5wO8aoB3DfBKAZ4FeC8B3t4G8HyAdwI8H+BVA7xrgFcK8CzAewnw9jaA5wO8E+D5AK8a4F0DvFJzD74lIxZPu5ycVWJCtiITk66IR6VL5hj8tOz3mwpLH5LJlMsvawO8GOBdw1O9UnPvqR7wSgGeBXgvAd7eBvB8gHcCPB/gVQO8a4BXCvAswHsJ8PY2gOcDvBPg+QCvGuBdA7xSgGcB3kuAt7cBPB/gnQDPB3jVAO8a4JUCPAvwXgoGvPQ3SbmcdAnghSoePv/6au1aAC9U+fDV+o/Uk4AXArxqgHcN8EoBngV4LwFeNcCLAV41wLsGeKUAzwK8lwCvGuDFAK8a4F0DvFKAZwHeS2flHPL7VnmXJYB3q3LgLx2v0e8c4BWrIPhuA0NOAV4xwLsGeKUAzwK8lwCvGuDFAK8a4F0DvFKAZwHeS5UAn/tqin0BeKXmDHzjtir2tjDglZor8Dea6VSH9RXglZor8L3v0q1motOdnWuTYqnprKRMSrYim393i3bttFV/SE9cf8aWCzcMDLl9zsCQr9Ii2NTLqvBH91O4kahr6dKGmFhyWlYmLV2SezBD0hnZiqyJIdNZ6YqU/EqkQzIp6TaZKREs0qoK3/8mDW2wvqrsfzQpHxJPGBgykZatyMm3GZXebc/Ityn3/fhUdbb9lPUV4ClI8NT/Uif7AvAUKPj/B3gCvBPghQDPArwY4FmAFwK8vQ3ghW0ArzoE8AR4z0MAzwK8EOBZgBfzGXxTq1izy7nZramRLlkvXVG/3MCQ5Q0GhixbK10if0yWSPdpaZGuWCS/kJB4LrTv/uG91fN3A0O2NRgYsnKngSF/+djAkF/e0J8x9jOdXw34+w3wqn3dbWDIuRMGhhz/0sCQ9w2Y0a6Y/ozEdp1f/QDgUSUG+IDmF/jkw76Ayist/29+l+gBwF83MOO1RfNv686YXDlvn4FLOSR940KeiYfk2IInP9P45Q8Avlr/ddnlTTT0ku6QraeztQaeOJY06ctv36I9IreEkos0rqT88OmqGm35wcbCnx/dITuOTs9f1pTRHfPqnqbYmOaM9fXa8tn5KVqm8WRfZvjwhWT6ZqpOT/76YO5APvwiJW9pDYkPZM7Qjr0aMzKXh4n+89XuP1zSGDL5ZYSu0TY9+cKQ3jFaQjTkdUJ54bfWb3zqIJGW/FR9S8szF2loV7L2C90hRJ/u8n4l16o31deOnd1ft/kN70OOPbf52U3TpCdvD2mg1zq8jigr/LH2wsvxFccL8ke8D9nQTzQyf+TautrPtYc0bKj1/s5JvnqC6LNF4/8Y0PgZ4/aKHOXbNxa+OuT9edoZsmiz9z/GZYVvLjwzUnyB3pDFxUN/iBo13J0h6csa3+K/WVc8th+e1rgO+vCD4rFafmNNZcg7Gk9fZYXfcbJwOPHXdTd1hlQX7+q+80Sz1pWYGJJ8tnCItDy9R2fI6c2Fw2D1slMPe0hZ4W8vKDzeV6qld5ZLdrKx8JzYvVnr3QozQzZ1FV7fNZ/Q+mkuW1V4pRFdrPemhIkh5X1x179g74c1g5pDupYe2lszVQFDMi+u69ka0vj1xcM3i7cdXXvgIQ+hMsJb3wlHoocOjGsPGd7fo/Gt2fq/KpwO6w2xLmQs/eVe7z9Y0EBN8blibPKT9656H9L9WvE4ktEaUqxc8NH5UaJOzRuyRoacaMrT9PoBvSGbChcRbozqjBhYWHxFpzmku6H4R/BMm/6bh2X7G7+wKprXeR1ubMjQ/KZ8RPfbzb4F3TQo/+xgqfbsSTf/u+Oy3pC6iyPLF/Z+ofD/tyqrbPCt56s26jzLGxuS2bj3xQ26F9J/eM2Ot/VG5BubLiZD7+sNiVU3Re9UeX67bkblgM8UX25uTK2ep/OsFk6aGhKaemqlzlNj8VbaxI6h372jMaM4ZGoZUWKF5pDBtsJPc2/pDLErB3zib8NE79d2n1f4j+3fsy+qk4aGhOoG/qvztGHdSqtdNv6Ozp8e6xZl/ObHWh+XsoaMhLdofwul8sBfX7xwmKLH9IYcWFmbNDNkQPOFnXUr7Zje92Z2i/Jy41s6b/uxIUfqe7Quxc44/Ke9uTtTtxYO68xIHx6ga/levbvnRoaED93Rv5U2eCShf4vSyJAZmYbv2NVe/K8h6sm/cKC5KU2kh2ZiSHzZh9XFT+1oyZ9ft3/BWc1blGaGzMw0fH2SLs8fK8if0RhSQ3SwLkv0mc69DBNDBt+gXKh4J0TjVhp19VGkql/vFqWZITMzC5+knm1EF5/XHNJWePXSpXHnqfCzU8rIkHzVGOUbdF5eUjp7e1mWov+W/6O8cg+ZnVH44kcim7sLr6NHvM9I1j67Ml41QPkajQv5esEzHQkTQ65WRejOeo0hxY9EHmrK0keHHvYQLpPw1kcis62vXnlB/k9b71nnSXrvwHjNe5fWaFzJqkh+9Q0jQy4tPvlxu/cZ7CORB+ouvK7xrc/IED6T8PZHIs+8eVVjSNd/6PxOyh7erfPz06pr1NFvZkh83/sa39/tj0QOd+jcOjcyhM/oU73+RyIL384+osMH6Jbe56CHz1Jo2PsHEQ0O0fxIpMEhXIZf1et9JNJu39kbi/U+m1SoMX98ld7nLkwN0flIpNkhMzMMr/eRSLv9Oxd/oz1kTdcq7Y/Qmxmi85FIs0NmZvrneK2PRNrFlui70wUDZGaG6Hwk0uyQmfnlH00iwwE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oAE+oP0PMavtwGaPJegAAAAASUVORK5CYII=" alt="plot of chunk unnamed-chunk-6"  />
<p class="caption">plot of chunk unnamed-chunk-6</p>
</div>
<pre><code class="language-r">
# year also works similarly
(year_dat &lt;- aggregate(
    list(cases = dat),
    by = list(year = as_year(dat)),
    length
))
#&gt;   year cases
#&gt; 1 2014  3067
#&gt; 2 2015   675

ggplot(year_dat, aes(year, cases)) + 
    geom_col(width = 1, colour = &quot;white&quot;) +
    theme_bw() +
    theme(axis.text.x = element_text(angle = 45, hjust=1)) +
    xlab(&quot;&quot;)
</code></pre>
<div class="figure" style="text-align: center">
<img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-6"  />
<p class="caption">plot of chunk unnamed-chunk-6</p>
</div>
<pre><code class="language-r">
# Construction functions can also be used
yearmonth(2022L, 11L)
#&gt; &lt;grates_yearmonth[1]&gt;
#&gt; [1] &quot;2022-Nov&quot;
yearquarter(2022L, 4L)
#&gt; &lt;grates_yearquarter[1]&gt;
#&gt; [1] &quot;2022-Q4&quot;
year(2022L)
#&gt; &lt;grates_year[1]&gt;
#&gt; [1] 2022
</code></pre>
<h2 id="month">month</h2>
<p><strong>month</strong> objects are stored as the integer number of n-month groups (starting
at 0L) since the Unix Epoch (1970-01-01). Here n-months is taken to mean a
grouping of n consecutive months.</p>
<p><code>&lt;grates_month&gt;</code> objects can be constructed directly from integers via the
<code>new_month()</code> function and through coercion via the <code>as_month()</code> function.
<code>as_period()</code> takes 2 arguments; <code>x</code>, the vector (normally a Date or POSIXt) you
wish to group, <code>n</code>, the integer number of months you wish to group.</p>
<pre><code class="language-r"># calculate the bimonthly number of cases
(bimonth_dat &lt;- aggregate(
    list(cases = dat),
    by = list(group = as_month(dat, n = 2L)),
    FUN = length
))
#&gt;                  group cases
#&gt; 1 2014-Mar to 2014-Apr     7
#&gt; 2 2014-May to 2014-Jun   137
#&gt; 3 2014-Jul to 2014-Aug   636
#&gt; 4 2014-Sep to 2014-Oct  1532
#&gt; 5 2014-Nov to 2014-Dec   755
#&gt; 6 2015-Jan to 2015-Feb   450
#&gt; 7 2015-Mar to 2015-Apr   225

# by default lower date bounds are used for the x axis
(bimonth_plot &lt;- 
    ggplot(bimonth_dat, aes(group, cases)) + 
    geom_col(width = 1, colour = &quot;white&quot;) +
    theme_bw() +
    theme(axis.text.x = element_text(angle = 45, hjust=1)) +
    xlab(&quot;&quot;))
</code></pre>
<div class="figure" style="text-align: center">
<img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-7"  />
<p class="caption">plot of chunk unnamed-chunk-7</p>
</div>
<p>Note that the default plotting behaviour of non-centred date labels is different
to that of the yearweek, yearmonth, yearquarter and year scales where labels are
centred by default. To obtain centred labels you must explicitly set the format
to NULL in the scale:</p>
<pre><code class="language-r">bimonth_plot + scale_x_grates_month(format = NULL, n = 2L)
</code></pre>
<div class="figure" style="text-align: center">
<img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-8"  />
<p class="caption">plot of chunk unnamed-chunk-8</p>
</div>
<h1 id="methods-and-other-functionality">Methods and other functionality</h1>
<p>For all <code>grates</code> objects we have added many methods and operations to ensure
logical and consistent behaviour. The following sections utilise the unique
epiweeks from the earlier example:</p>
<pre><code class="language-r">weeks &lt;- week_dat$week
</code></pre>
<h2 id="accessing-boundary-values-and-checking-contents">Accessing boundary values and checking contents</h2>
<p>Some times it is useful to access both the starting dates covered by <code>grates</code>
objects as well as the end dates. To this end we provide functions
<code>date_start()</code> and <code>date_end()</code>.</p>
<p>To find out whether a <code>grate</code> object spans a particular date we provide a
<code>%during%</code> function.</p>
<pre><code class="language-r">dat &lt;- weeks[1:5]
data.frame(
    week = dat,
    start = date_start(dat),
    end = date_end(dat),
    contains.2014.04.14 = as.Date(&quot;2014-04-14&quot;) %during% dat
)
#&gt;       week      start        end contains.2014.04.14
#&gt; 1 2014-W12 2014-03-16 2014-03-22               FALSE
#&gt; 2 2014-W15 2014-04-06 2014-04-12               FALSE
#&gt; 3 2014-W16 2014-04-13 2014-04-19                TRUE
#&gt; 4 2014-W17 2014-04-20 2014-04-26               FALSE
#&gt; 5 2014-W18 2014-04-27 2014-05-03               FALSE
</code></pre>
<p>Conversion of grate objects back to dates is analogous to <code>date_start()</code>.</p>
<pre><code class="language-r">identical(as.Date(weeks), date_start(weeks))
#&gt; [1] TRUE
</code></pre>
<h2 id="min-max-range-and-sequences">min, max, range and sequences</h2>
<pre><code class="language-r"># min, max and range
(minw &lt;- min(weeks))
#&gt; &lt;grates_epiweek[1]&gt;
#&gt; [1] &quot;2014-W12&quot;
(maxw &lt;- max(weeks))
#&gt; &lt;grates_epiweek[1]&gt;
#&gt; [1] &quot;2015-W17&quot;
(rangew &lt;- range(weeks))
#&gt; &lt;grates_epiweek[2]&gt;
#&gt; [1] &quot;2014-W12&quot; &quot;2015-W17&quot;

# seq method works if both `from` and `to` are epiweeks
seq(from = minw, to = maxw, by = 6L)
#&gt; &lt;grates_epiweek[10]&gt;
#&gt;  [1] &quot;2014-W12&quot; &quot;2014-W18&quot; &quot;2014-W24&quot; &quot;2014-W30&quot; &quot;2014-W36&quot; &quot;2014-W42&quot;
#&gt;  [7] &quot;2014-W48&quot; &quot;2015-W01&quot; &quot;2015-W07&quot; &quot;2015-W13&quot;

# but will error informatively if `to` is a different class
try(seq(from = minw, to = 999, by = 6L))
#&gt; Error in seq.grates_epiweek(from = minw, to = 999, by = 6L) : 
#&gt;   `to` must be a &lt;grates_epiweek&gt; object of length 1.
</code></pre>
<h2 id="addition-and-subtraction">Addition and subtraction</h2>
<p>Addition (subtraction) of wholenumbers will add (subtract) the corresponding
number of weeks to (from) the object</p>
<pre><code class="language-r">dat &lt;- head(week_dat)
(dat &lt;- transform(dat, plus4 = week + 4L, minus4 = week - 4L))
#&gt;       week cases    plus4   minus4
#&gt; 1 2014-W12     1 2014-W16 2014-W08
#&gt; 2 2014-W15     1 2014-W19 2014-W11
#&gt; 3 2014-W16     1 2014-W20 2014-W12
#&gt; 4 2014-W17     3 2014-W21 2014-W13
#&gt; 5 2014-W18     6 2014-W22 2014-W14
#&gt; 6 2014-W19    16 2014-W23 2014-W15
</code></pre>
<p>Addition of two yearweek objects will error as the intention is unclear.</p>
<pre><code class="language-r">try(transform(dat, willerror = week + week))
#&gt; Error in Ops.grates_epiweek(week, week) : 
#&gt;   Cannot add &lt;grates_epiweek&gt; objects to each other.
</code></pre>
<p>Subtraction of two yearweek objects gives the difference in weeks between them</p>
<pre><code class="language-r">transform(dat, difference = plus4 - minus4)
#&gt;       week cases    plus4   minus4 difference
#&gt; 1 2014-W12     1 2014-W16 2014-W08    8 weeks
#&gt; 2 2014-W15     1 2014-W19 2014-W11    8 weeks
#&gt; 3 2014-W16     1 2014-W20 2014-W12    8 weeks
#&gt; 4 2014-W17     3 2014-W21 2014-W13    8 weeks
#&gt; 5 2014-W18     6 2014-W22 2014-W14    8 weeks
#&gt; 6 2014-W19    16 2014-W23 2014-W15    8 weeks
</code></pre>
<p><code>&lt;grates_epiweek&gt;</code> objects can be combined with themselves but not other classes
(assuming an epiweek object is the first entry).</p>
<pre><code class="language-r">c(minw, maxw)
#&gt; &lt;grates_epiweek[2]&gt;
#&gt; [1] &quot;2014-W12&quot; &quot;2015-W17&quot;
identical(c(minw, maxw), rangew)
#&gt; [1] TRUE

try(c(minw, 1L))
#&gt; Error in c.grates_epiweek(minw, 1L) : 
#&gt;   Unable to combine &lt;grates_epiweek&gt; objects with other classes.
</code></pre>
</div>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js" defer></script>
</body>
</html>
